<cfcomponent output="false" extends="BaseHandler">		<!--- Use CFProperty to declare beans for injection.  By default, they will be placed in the variables scope --->	<cfproperty name="AssetPaths" inject="id:AssetPaths" scope="variables" />	<cfproperty name="NotificationService" inject="id:NotificationService" scope="variables" />		<!--- Default Action --->	<cffunction name="index" returntype="void" output="false" hint="Sample Event">		<cfargument name="event">		<cfargument name="rc">		<cfargument name="prc">				<cfset event.setView("Main/sample")>	</cffunction>		<cffunction name="RegisterPresaleAlert" returntype="void" output="false">		<cfargument name="event">		<cfargument name="rc">		<cfargument name="prc">				<cfscript>			var i =0;					prc.validator = createobject('component', 'cfc.model.FormValidation').init();			prc.validator.addRequiredFieldValidator('CampaignId', rc.CampaignId, 'Carrier selection is required.');			prc.validator.addRequiredFieldValidator('Email', rc.email, 'A valid email is required to receive an email notification.');			prc.validator.addEmailValidator('Email', rc.email, 'A valid email is required to receive an email notification.');						Flash.put('Email', rc.Email);			Flash.put('CampaignId', rc.CampaignId);			if ( !prc.validator.hasMessages() )			{				prc.alertArgs = {					Email = rc.email					, SignUpDateTime = Now()					, CampaignId = rc.CampaignId				};								if ( variables.NotificationService.signupCustomer( argumentCollection = prc.alertArgs ) )					getPlugin("MessageBox").info( message='You have successfully registered for the presale email notification.' );				else					getPlugin("MessageBox").error( message='Our records indicate that you have already signed up for the selected presale email notification.' );			}			else			{				getPlugin("MessageBox").error( messageArray = prc.validator.getMessageStrings() );
			}			if (Compare(cgi.HTTP_REFERER,rc.pageURL)){				prc.eventReferer = cgi.HTTP_REFERER;				setNextEvent(url=prc.eventReferer);			}							else{				prc.eventReferer = REReplaceNoCase(cgi.HTTP_REFERER, 'http(s?):(d+)?//#HTTP_HOST#/', '');						setNextEvent( prc.eventReferer );			}								//prc.eventReferer = REReplaceNoCase(cgi.HTTP_REFERER, 'http(s?):(d+)?//#HTTP_HOST#/', '');					//setNextEvent( prc.eventReferer );
			// setNextEvent( 'content/Samsung-Galaxy-S-6' );		</cfscript>	</cffunction><!------------------------------------------- PRIVATE EVENTS ------------------------------------------>
</cfcomponent>